<!DOCTYPE html>
<html lang="fr"> 
<head>
  <meta charset="UTF-8" /> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/> 
  <title>Gestion des Projets</title> 
  <link href="gestionProjet.css" rel="stylesheet" type="text/css">
  <script>
    if (localStorage.getItem("auth") !== "true") {
      // Si pas authentifié, retour au login
      window.location.href = "login.html";
    }
  </script>
</head>

<body>
  <a href="#" onclick="logout()">Déconnexion</a>
  <header> 
    <h1>SIRH</h1> 
    <nav> <!-- Barre de navigation pour accéder aux différentes sections de l’application -->
      <a href="accueil.html">Accueil</a> <!-- Lien vers la page d’accueil -->
      <a href="gestionEmploye.html">Gestion employés</a> <!-- Lien vers la page de gestion des employés -->
      <a href="gestionProjet.html">Gestion projets</a> <!-- Lien vers la page de gestion des projets (page actuelle) -->
      <a href="gestionCompetence.html">Gestion compétences</a>
    </nav>
  </header>

  <div class="filters"> <!-- Section contenant les filtres pour affiner l’affichage des projets -->
    <label for="filtre-statut">Filtrer par statut :</label> <!-- Libellé pour le filtre par statut -->
    <select id="filtre-statut" onchange="filtrerProjets()"> <!-- Menu déroulant, appelant une fonction JS quand le choix change -->
      <option value="">Tous</option> <!-- Option pour afficher tous les projets -->
      <option value="prevu">Prévu</option> <!-- Projets planifiés -->
      <option value="a-faire">À faire</option> <!-- Projets non commencés mais prévus -->
      <option value="urgent">Urgent</option> <!-- Projets à traiter en priorité -->
      <option value="en-retard">En retard</option> <!-- Projets dépassant leur délai -->
      <option value="terminee">Terminée</option> <!-- Projets finalisés -->
    </select>
  </div>

  <div class="container"> <!-- Conteneur principal regroupant les différentes cartes de projet -->

    <!-- Projet 1 -->
    <div class="card" id="projet-1" onclick="toggleProject(this)"> <!-- Carte de projet cliquable, peut se replier ou s’ouvrir -->
      <div class="project-header"> <!-- En-tête de la carte de projet -->
        <span class="toggle-arrow">▶</span> <!-- Flèche d’expansion/repli -->
        <h3>Projet 1 - Développement nouveau pneu</h3> <!-- Titre du projet -->
        <p class="delai"> <!-- Zone d’affichage du délai du projet -->
          <strong>Délai projet:</strong> 
          <span class="date-projet">2025-05-05</span> <!-- Date limite pour terminer le projet -->
          <span class="status">Calcul...</span> <!-- Zone pour afficher dynamiquement le statut calculé via JS -->
        </p>
      </div>

      <!-- Tâche 1 du projet 1 -->
      <div class="task ouvrir-dialog" onclick="event.stopPropagation(); openDialog(this)"> <!-- Tâche cliquable qui ouvre un dialogue, sans propager le clic au projet -->
        <p><strong>Tâche 1:</strong> Analyse des matériaux</p> <!-- Nom de la tâche -->
        <dialog class="dialog"> <!-- Fenêtre modale contenant les détails de la tâche -->
          <button class="close-dialog">❌</button> <!-- Bouton de fermeture de la fenêtre modale -->
          <h2>Analyse des matériaux</h2>
          <p><strong>Heures prévues :</strong> 50 h</p> <!-- Durée estimée -->
          <p><strong>Tarif client :</strong> 80 €/h</p> <!-- Coût facturé au client -->
          <p class="delai"><strong>Délai:</strong> <span class="date-tache">2025-04-15</span></p> <!-- Délai spécifique à cette tâche -->
          <span class="status">Calcul...</span> <!-- Statut dynamique calculé via JS -->
        </dialog>
      </div>

      <!-- Tâche 2 du projet 1 -->
      <div class="task ouvrir-dialog" onclick="event.stopPropagation(); openDialog(this)">
        <p><strong>Tâche 2:</strong> Maintenance machines</p>
        <dialog class="dialog">
          <button class="close-dialog">❌</button>
          <h2>Maintenance machines</h2>
          <p><strong>Heures prévues :</strong> 40 h</p>
          <p><strong>Tarif client :</strong> 60 €/h</p>
          <p class="delai"><strong>Délai:</strong> <span class="date-tache">2025-04-29</span></p>
          <span class="status">Calcul...</span>
        </dialog>
      </div>

      <!-- Zone des employés assignés -->
      <div class="task" id="employes-1">
        <p><strong>Employés associés :</strong></p> <!-- Intitulé de la section -->
        <div id="employes-projet-1" class="tags-container">
          <!-- Les noms ou tags des employés seront injectés ici par JS -->
        </div>
      </div>

      <!-- Zone des compétences requises -->
      <div class="task" id="competences-1">
        <p><strong>Compétences requises :</strong></p>
        <div id="competences-projet-1" class="tags-container">
          <!-- Les compétences nécessaires au projet seront insérées ici par JS -->
        </div>
      </div>
    </div>

    <!-- Projet 2 -->
    <div class="card" id="projet-2" onclick="toggleProject(this)">
      <div class="project-header">
        <span class="toggle-arrow">▶</span>
        <h3>Projet 2 - Lancement campagne pub</h3>
        <p class="delai">
          <strong>Délai projet:</strong> 
          <span class="date-projet">2025-06-01</span>
          <span class="status">Calcul...</span>
        </p>
      </div>

      <!-- Tâche du projet 2 -->
      <div class="task ouvrir-dialog" onclick="event.stopPropagation(); openDialog(this)">
        <p><strong>Tâche 1:</strong> Création stratégie marketing</p>
        <dialog class="dialog">
          <button class="close-dialog">❌</button>
          <h2>Création stratégie marketing</h2>
          <p><strong>Heures prévues :</strong> 30 h</p>
          <p><strong>Tarif client :</strong> 100 €/h</p>
          <p class="delai"><strong>Délai:</strong> <span class="date-tache">2025-04-01</span></p>
          <span class="status terminee">Terminée</span> <!-- Statut déjà défini ici comme terminé -->
        </dialog>
      </div>

      <!-- Zone des employés assignés -->
      <div class="task" id="employes-2">
        <p><strong>Employés associés :</strong></p>
        <div id="employes-projet-2" class="tags-container">
          <!-- Données JS attendues -->
        </div>
      </div>

      <!-- Zone des compétences requises -->
      <div class="task" id="competences-2">
        <p><strong>Compétences requises :</strong></p>
        <div id="competences-projet-2" class="tags-container">
          <!-- Données JS attendues -->
        </div>
      </div>
    </div>
  </div>

  <script src="gestionProjet.js"></script> <!-- Inclusion du script JS qui va gérer les interactions dynamiques (filtrage, statut, ouverture des tâches, etc.) -->
  <script>
    function logout() {
      localStorage.removeItem("auth");
      window.location.href = "login.html";
    }
  </script>
</body>
</html>









<!-- <!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gestion des Projets</title>
  <link href="sirh.css" rel="stylesheet">
</head>
<body>
  <a href="#" onclick="logout()">Déconnexion</a>
  <header>
    <h1>SIRH</h1>
    <nav>
      <a href="accueil.html">Accueil</a>
      <a href="gestionEmploye.html">Gestion employés</a>
      <a href="gestionProjet.html" class="active">Gestion projets</a>
      <a href="gestionCompetence.html">Gestion compétences</a>
    </nav>
  </header>

  <div class="container">
    <div class="card" onclick="toggleProject(this)">
      <div class="project-header">
        <span class="toggle-arrow">▶</span>
        <h3>Projet 1 - Nom du projet 1</h3>
        <span>ID: P001</span>
      </div>
      <div class="task">
        <p><strong>Tâche 1:</strong> Nom tâche 1 <span class="status en-cours">En cours</span></p>
        <p>Compétence requise: Nom de la compétence</p>
        <p>Employé affecté: Nom de l'employé</p>
        <p>Délai: date ou durée</p>
      </div>
      <div class="task">
        <p><strong>Tâche 2:</strong> Nom tâche 2 <span class="status en-attente">En attente</span></p>
        <p>Compétence requise: Nom de la compétence</p>
        <p>Employé affecté: Nom de l'employé</p>
        <p>Délai: date ou durée</p>
      </div>
    </div>

    <div class="card" onclick="toggleProject(this)">
      <div class="project-header">
        <span class="toggle-arrow">▶</span>
        <h3>Projet 2 - Nom du projet 2</h3>
        <span>ID: P002</span>
      </div>
      <div class="task">
        <p><strong>Tâche 1:</strong> Nom tâche 1 <span class="status terminee">Terminée</span></p>
        <p>Compétence requise: Nom de la compétence</p>
        <p>Employé affecté: Nom de l'employé</p>
        <p>Délai: date ou durée</p>
      </div>
    </div>
  </div>

  <script src="toggle.js"></script>
  <script>
    function logout() {
      localStorage.removeItem("auth");
      window.location.href = "login.html";
    }
  </script>    
</body>
</html> -->
